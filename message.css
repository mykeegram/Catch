/* message.css */

/* -------------------------------------------------
   .CHAT-INPUT-AREA – CONTAINS EMOJI PICKER
   ------------------------------------------------- */
.chat-input-area {
    width: 100%;
    padding: 3px 7px;
    background-color: transparent;
    box-sizing: border-box;
    flex-shrink: 0;
    margin-top: auto;
    position: relative;          /* REQUIRED: contain emoji picker */
    overflow: hidden;            /* REQUIRED: hide collapsed picker */
    z-index: 900;
}

svg#micSVG {
    height: 26px;
    width: 26px;
    display: block;
    margin: 0 auto;
}

/* ------------------------------------------------- */
.input-wrapper {
    display: flex;
    align-items: flex-end;
    gap: 8px;
    width: 100%;
    position: relative;
}

/* ------------------------------------------------- */
.input-bubble {
    background: #fff;
    display: flex;
    align-items: center;
    flex: 1;
    padding: 10px 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border-radius: 30px;
    position: relative;
    max-width: none;
    min-width: 0;
}

/* Remove chat bubble tails */
.input-bubble::before,
.input-bubble::after {
    content: none !important;
}

/* ------------------------------------------------- */
.input-bubble .icon {
    font-size: 20px;
    color: #555;
    cursor: pointer;
    align-self: flex-end;
    flex-shrink: 0;
    position: relative;
    top: 0;
}

/* ------------------------------------------------- */
.message-input {
    flex: 1;
    border: none;
    outline: none;
    padding: 0;
    margin: 0 6px;
    font-size: 16px;
    background: transparent;
    color: #000;
    white-space: pre-wrap;
    overflow-wrap: break-word;
    word-break: break-word;
    min-height: 20px;
    max-height: 120px;
    line-height: 1.4;
    overflow-y: auto;
    caret-color: #749cbf;
}

/* Placeholder */
.message-input[contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: #999;
    pointer-events: none;
    display: block;
}

/* ------------------------------------------------- */
.attach-btn {
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    align-self: flex-end;
    flex-shrink: 0;
    position: relative;
    top: 0;
}

.attach-btn i {
    font-size: 20px;
    color: #555;
}

/* ------------------------------------------------- */
.mic-btn {
    background: #749cbf;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: background 0.2s ease, transform 0.1s ease;
    touch-action: none;
    z-index: 1001;
    align-self: flex-end;
    flex-shrink: 0;
}

/* SEND STATE: Green button */
.mic-btn.sending {
    background: #00a884 !important;
}

/* -------------------------------------------------
   SVG ICONS: CENTERED & SIZED
   ------------------------------------------------- */
.mic-btn svg {
    display: block;
    margin: 0 auto;
}

#arrowSVG {
    width: 21px;
    height: 21px;
    display: block;
}

/* -------------------------------------------------
   CHAT CONTENT – KEEP LAST MESSAGE VISIBLE
   ------------------------------------------------- */
#chat-content {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    padding-bottom: 20px;        /* fallback */
    transition: padding-bottom 0.3s cubic-bezier(0.25,0.8,0.25,1);
    box-sizing: border-box;
}

body.emoji-picker-active #chat-content {
    padding-bottom: 80px !important;   /* "Messiah" stays visible */
}

